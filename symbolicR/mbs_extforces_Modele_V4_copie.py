#
#	MBsysTran - Release 8.1
#
#	Copyright 
#	Universite catholique de Louvain (UCLouvain) 
#	Mechatronic, Electrical Energy, and Dynamic systems (MEED Division) 
#	2, Place du Levant
#	1348 Louvain-la-Neuve 
#	Belgium 
#
#	http://www.robotran.be 
#
#	==> Generation Date: Tue Feb 28 12:45:37 2023
#
#	==> Project name: Modele_V4_copie
#
#	==> Number of joints: 14
#
#	==> Function: F19 - External Forces
#
#	==> Git hash: 8f46effdc05c898000a15b4c4dfc8f70efce4fc0
#

from math import sin, cos, sqrt
from numpy import zeros

def extforces(frc, trq, s, tsim):
    q = s.q
    qd = s.qd
    qdd = s.qdd
    frc = s.frc
    trq = s.trq
    PxF1 = zeros(4)
    RxF1 = zeros((4, 4))
    VxF1 = zeros(4)
    OMxF1 = zeros(4)
    AxF1 = zeros(4)
    OMPxF1 = zeros(4)

    PxF2 = zeros(4)
    RxF2 = zeros((4, 4))
    VxF2 = zeros(4)
    OMxF2 = zeros(4)
    AxF2 = zeros(4)
    OMPxF2 = zeros(4)

    PxF3 = zeros(4)
    RxF3 = zeros((4, 4))
    VxF3 = zeros(4)
    OMxF3 = zeros(4)
    AxF3 = zeros(4)
    OMPxF3 = zeros(4)

    PxF4 = zeros(4)
    RxF4 = zeros((4, 4))
    VxF4 = zeros(4)
    OMxF4 = zeros(4)
    AxF4 = zeros(4)
    OMPxF4 = zeros(4)

 
# Trigonometric functions

    S4 = sin(q[4])
    C4 = cos(q[4])
    S5 = sin(q[5])
    C5 = cos(q[5])
    S6 = sin(q[6])
    C6 = cos(q[6])
    S7 = sin(q[7])
    C7 = cos(q[7])
    S9 = sin(q[9])
    C9 = cos(q[9])
    S10 = sin(q[10])
    C10 = cos(q[10])
    S11 = sin(q[11])
    C11 = cos(q[11])
    S13 = sin(q[13])
    C13 = cos(q[13])
    S14 = sin(q[14])
    C14 = cos(q[14])
 
# Augmented Joint Position Vectors

    Dz83 = q[8]+s.dpt[3,5]
    Dz123 = q[12]+s.dpt[3,10]
 
# Augmented Joint Position Vectors

 
# Sensor Kinematics

    ROcp7_25 = S4*S5
    ROcp7_35 = -C4*S5
    ROcp7_85 = -S4*C5
    ROcp7_95 = C4*C5
    ROcp7_16 = C5*C6
    ROcp7_26 = ROcp7_25*C6+C4*S6
    ROcp7_36 = ROcp7_35*C6+S4*S6
    ROcp7_46 = -C5*S6
    ROcp7_56 = -ROcp7_25*S6+C4*C6
    ROcp7_66 = -ROcp7_35*S6+S4*C6
    ROcp7_17 = ROcp7_16*C7-S5*S7
    ROcp7_27 = ROcp7_26*C7-ROcp7_85*S7
    ROcp7_37 = ROcp7_36*C7-ROcp7_95*S7
    ROcp7_77 = ROcp7_16*S7+S5*C7
    ROcp7_87 = ROcp7_26*S7+ROcp7_85*C7
    ROcp7_97 = ROcp7_36*S7+ROcp7_95*C7
    ROcp7_19 = ROcp7_17*C9-ROcp7_77*S9
    ROcp7_29 = ROcp7_27*C9-ROcp7_87*S9
    ROcp7_39 = ROcp7_37*C9-ROcp7_97*S9
    ROcp7_79 = ROcp7_17*S9+ROcp7_77*C9
    ROcp7_89 = ROcp7_27*S9+ROcp7_87*C9
    ROcp7_99 = ROcp7_37*S9+ROcp7_97*C9
    ROcp7_110 = ROcp7_19*C10-ROcp7_79*S10
    ROcp7_210 = ROcp7_29*C10-ROcp7_89*S10
    ROcp7_310 = ROcp7_39*C10-ROcp7_99*S10
    ROcp7_710 = ROcp7_19*S10+ROcp7_79*C10
    ROcp7_810 = ROcp7_29*S10+ROcp7_89*C10
    ROcp7_910 = ROcp7_39*S10+ROcp7_99*C10
    OMcp7_25 = qd[5]*C4
    OMcp7_35 = qd[5]*S4
    OPcp7_25 = -qd[4]*qd[5]*S4+qdd[5]*C4
    OPcp7_35 = qd[4]*qd[5]*C4+qdd[5]*S4
    OMcp7_16 = qd[4]+qd[6]*S5
    OMcp7_26 = OMcp7_25+qd[6]*ROcp7_85
    OMcp7_36 = OMcp7_35+qd[6]*ROcp7_95
    OPcp7_16 = qdd[4]+qd[6]*(OMcp7_25*ROcp7_95-OMcp7_35*ROcp7_85)+qdd[6]*S5
    OPcp7_26 = OPcp7_25+qd[6]*(-qd[4]*ROcp7_95+OMcp7_35*S5)+qdd[6]*ROcp7_85
    OPcp7_36 = OPcp7_35+qd[6]*(qd[4]*ROcp7_85-OMcp7_25*S5)+qdd[6]*ROcp7_95
    RLcp7_17 = s.dpt[3,1]*S5
    RLcp7_27 = ROcp7_85*s.dpt[3,1]
    RLcp7_37 = ROcp7_95*s.dpt[3,1]
    POcp7_17 = q[1]+RLcp7_17
    POcp7_27 = q[2]+RLcp7_27
    POcp7_37 = q[3]+RLcp7_37
    OMcp7_17 = OMcp7_16+qd[7]*ROcp7_46
    OMcp7_27 = OMcp7_26+qd[7]*ROcp7_56
    OMcp7_37 = OMcp7_36+qd[7]*ROcp7_66
    ORcp7_17 = OMcp7_26*RLcp7_37-OMcp7_36*RLcp7_27
    ORcp7_27 = -OMcp7_16*RLcp7_37+OMcp7_36*RLcp7_17
    ORcp7_37 = OMcp7_16*RLcp7_27-OMcp7_26*RLcp7_17
    VIcp7_17 = qd[1]+ORcp7_17
    VIcp7_27 = qd[2]+ORcp7_27
    VIcp7_37 = qd[3]+ORcp7_37
    OPcp7_17 = OPcp7_16+qd[7]*(OMcp7_26*ROcp7_66-OMcp7_36*ROcp7_56)+qdd[7]*ROcp7_46
    OPcp7_27 = OPcp7_26+qd[7]*(-OMcp7_16*ROcp7_66+OMcp7_36*ROcp7_46)+qdd[7]*ROcp7_56
    OPcp7_37 = OPcp7_36+qd[7]*(OMcp7_16*ROcp7_56-OMcp7_26*ROcp7_46)+qdd[7]*ROcp7_66
    ACcp7_17 = qdd[1]+OMcp7_26*ORcp7_37-OMcp7_36*ORcp7_27+OPcp7_26*RLcp7_37-OPcp7_36*RLcp7_27
    ACcp7_27 = qdd[2]-OMcp7_16*ORcp7_37+OMcp7_36*ORcp7_17-OPcp7_16*RLcp7_37+OPcp7_36*RLcp7_17
    ACcp7_37 = qdd[3]+OMcp7_16*ORcp7_27-OMcp7_26*ORcp7_17+OPcp7_16*RLcp7_27-OPcp7_26*RLcp7_17
    RLcp7_18 = ROcp7_77*Dz83
    RLcp7_28 = ROcp7_87*Dz83
    RLcp7_38 = ROcp7_97*Dz83
    POcp7_18 = POcp7_17+RLcp7_18
    POcp7_28 = POcp7_27+RLcp7_28
    POcp7_38 = POcp7_37+RLcp7_38
    ORcp7_18 = OMcp7_27*RLcp7_38-OMcp7_37*RLcp7_28
    ORcp7_28 = -OMcp7_17*RLcp7_38+OMcp7_37*RLcp7_18
    ORcp7_38 = OMcp7_17*RLcp7_28-OMcp7_27*RLcp7_18
    VIcp7_18 = ORcp7_18+VIcp7_17+qd[8]*ROcp7_77
    VIcp7_28 = ORcp7_28+VIcp7_27+qd[8]*ROcp7_87
    VIcp7_38 = ORcp7_38+VIcp7_37+qd[8]*ROcp7_97
    ACcp7_18 = ACcp7_17+(2.0)*qd[8]*(OMcp7_27*ROcp7_97-OMcp7_37*ROcp7_87)+qdd[8]*ROcp7_77+OMcp7_27*ORcp7_38-OMcp7_37*ORcp7_28+OPcp7_27*RLcp7_38-OPcp7_37*RLcp7_28
    ACcp7_28 = ACcp7_27+(2.0)*qd[8]*(-OMcp7_17*ROcp7_97+OMcp7_37*ROcp7_77)+qdd[8]*ROcp7_87-OMcp7_17*ORcp7_38+OMcp7_37*ORcp7_18-OPcp7_17*RLcp7_38+OPcp7_37*RLcp7_18
    ACcp7_38 = ACcp7_37+(2.0)*qd[8]*(OMcp7_17*ROcp7_87-OMcp7_27*ROcp7_77)+qdd[8]*ROcp7_97+OMcp7_17*ORcp7_28-OMcp7_27*ORcp7_18+OPcp7_17*RLcp7_28-OPcp7_27*RLcp7_18
    RLcp7_19 = ROcp7_77*s.dpt[3,6]
    RLcp7_29 = ROcp7_87*s.dpt[3,6]
    RLcp7_39 = ROcp7_97*s.dpt[3,6]
    POcp7_19 = POcp7_18+RLcp7_19
    POcp7_29 = POcp7_28+RLcp7_29
    POcp7_39 = POcp7_38+RLcp7_39
    OMcp7_19 = OMcp7_17+qd[9]*ROcp7_46
    OMcp7_29 = OMcp7_27+qd[9]*ROcp7_56
    OMcp7_39 = OMcp7_37+qd[9]*ROcp7_66
    ORcp7_19 = OMcp7_27*RLcp7_39-OMcp7_37*RLcp7_29
    ORcp7_29 = -OMcp7_17*RLcp7_39+OMcp7_37*RLcp7_19
    ORcp7_39 = OMcp7_17*RLcp7_29-OMcp7_27*RLcp7_19
    VIcp7_19 = ORcp7_19+VIcp7_18
    VIcp7_29 = ORcp7_29+VIcp7_28
    VIcp7_39 = ORcp7_39+VIcp7_38
    OPcp7_19 = OPcp7_17+qd[9]*(OMcp7_27*ROcp7_66-OMcp7_37*ROcp7_56)+qdd[9]*ROcp7_46
    OPcp7_29 = OPcp7_27+qd[9]*(-OMcp7_17*ROcp7_66+OMcp7_37*ROcp7_46)+qdd[9]*ROcp7_56
    OPcp7_39 = OPcp7_37+qd[9]*(OMcp7_17*ROcp7_56-OMcp7_27*ROcp7_46)+qdd[9]*ROcp7_66
    ACcp7_19 = ACcp7_18+OMcp7_27*ORcp7_39-OMcp7_37*ORcp7_29+OPcp7_27*RLcp7_39-OPcp7_37*RLcp7_29
    ACcp7_29 = ACcp7_28-OMcp7_17*ORcp7_39+OMcp7_37*ORcp7_19-OPcp7_17*RLcp7_39+OPcp7_37*RLcp7_19
    ACcp7_39 = ACcp7_38+OMcp7_17*ORcp7_29-OMcp7_27*ORcp7_19+OPcp7_17*RLcp7_29-OPcp7_27*RLcp7_19
    RLcp7_110 = ROcp7_79*s.dpt[3,7]
    RLcp7_210 = ROcp7_89*s.dpt[3,7]
    RLcp7_310 = ROcp7_99*s.dpt[3,7]
    POcp7_110 = POcp7_19+RLcp7_110
    POcp7_210 = POcp7_29+RLcp7_210
    POcp7_310 = POcp7_39+RLcp7_310
    OMcp7_110 = OMcp7_19+qd[10]*ROcp7_46
    OMcp7_210 = OMcp7_29+qd[10]*ROcp7_56
    OMcp7_310 = OMcp7_39+qd[10]*ROcp7_66
    ORcp7_110 = OMcp7_29*RLcp7_310-OMcp7_39*RLcp7_210
    ORcp7_210 = -OMcp7_19*RLcp7_310+OMcp7_39*RLcp7_110
    ORcp7_310 = OMcp7_19*RLcp7_210-OMcp7_29*RLcp7_110
    VIcp7_110 = ORcp7_110+VIcp7_19
    VIcp7_210 = ORcp7_210+VIcp7_29
    VIcp7_310 = ORcp7_310+VIcp7_39
    OPcp7_110 = OPcp7_19+qd[10]*(OMcp7_29*ROcp7_66-OMcp7_39*ROcp7_56)+qdd[10]*ROcp7_46
    OPcp7_210 = OPcp7_29+qd[10]*(-OMcp7_19*ROcp7_66+OMcp7_39*ROcp7_46)+qdd[10]*ROcp7_56
    OPcp7_310 = OPcp7_39+qd[10]*(OMcp7_19*ROcp7_56-OMcp7_29*ROcp7_46)+qdd[10]*ROcp7_66
    ACcp7_110 = ACcp7_19+OMcp7_29*ORcp7_310-OMcp7_39*ORcp7_210+OPcp7_29*RLcp7_310-OPcp7_39*RLcp7_210
    ACcp7_210 = ACcp7_29-OMcp7_19*ORcp7_310+OMcp7_39*ORcp7_110-OPcp7_19*RLcp7_310+OPcp7_39*RLcp7_110
    ACcp7_310 = ACcp7_39+OMcp7_19*ORcp7_210-OMcp7_29*ORcp7_110+OPcp7_19*RLcp7_210-OPcp7_29*RLcp7_110
    RLcp7_111 = ROcp7_110*s.dpt[1,8]
    RLcp7_211 = ROcp7_210*s.dpt[1,8]
    RLcp7_311 = ROcp7_310*s.dpt[1,8]
    POcp7_111 = POcp7_110+RLcp7_111
    POcp7_211 = POcp7_210+RLcp7_211
    POcp7_311 = POcp7_310+RLcp7_311
    ORcp7_111 = OMcp7_210*RLcp7_311-OMcp7_310*RLcp7_211
    ORcp7_211 = -OMcp7_110*RLcp7_311+OMcp7_310*RLcp7_111
    ORcp7_311 = OMcp7_110*RLcp7_211-OMcp7_210*RLcp7_111
    VIcp7_111 = ORcp7_111+VIcp7_110
    VIcp7_211 = ORcp7_211+VIcp7_210
    VIcp7_311 = ORcp7_311+VIcp7_310
    ACcp7_111 = ACcp7_110+OMcp7_210*ORcp7_311-OMcp7_310*ORcp7_211+OPcp7_210*RLcp7_311-OPcp7_310*RLcp7_211
    ACcp7_211 = ACcp7_210-OMcp7_110*ORcp7_311+OMcp7_310*ORcp7_111-OPcp7_110*RLcp7_311+OPcp7_310*RLcp7_111
    ACcp7_311 = ACcp7_310+OMcp7_110*ORcp7_211-OMcp7_210*ORcp7_111+OPcp7_110*RLcp7_211-OPcp7_210*RLcp7_111
    PxF1[1] = POcp7_111
    PxF1[2] = POcp7_211
    PxF1[3] = POcp7_311
    RxF1[1,1] = ROcp7_110
    RxF1[1,2] = ROcp7_210
    RxF1[1,3] = ROcp7_310
    RxF1[2,1] = ROcp7_46
    RxF1[2,2] = ROcp7_56
    RxF1[2,3] = ROcp7_66
    RxF1[3,1] = ROcp7_710
    RxF1[3,2] = ROcp7_810
    RxF1[3,3] = ROcp7_910
    VxF1[1] = VIcp7_111
    VxF1[2] = VIcp7_211
    VxF1[3] = VIcp7_311
    OMxF1[1] = OMcp7_110
    OMxF1[2] = OMcp7_210
    OMxF1[3] = OMcp7_310
    AxF1[1] = ACcp7_111
    AxF1[2] = ACcp7_211
    AxF1[3] = ACcp7_311
    OMPxF1[1] = OPcp7_110
    OMPxF1[2] = OPcp7_210
    OMPxF1[3] = OPcp7_310
    ROcp8_25 = S4*S5
    ROcp8_35 = -C4*S5
    ROcp8_85 = -S4*C5
    ROcp8_95 = C4*C5
    ROcp8_16 = C5*C6
    ROcp8_26 = ROcp8_25*C6+C4*S6
    ROcp8_36 = ROcp8_35*C6+S4*S6
    ROcp8_46 = -C5*S6
    ROcp8_56 = -ROcp8_25*S6+C4*C6
    ROcp8_66 = -ROcp8_35*S6+S4*C6
    ROcp8_17 = ROcp8_16*C7-S5*S7
    ROcp8_27 = ROcp8_26*C7-ROcp8_85*S7
    ROcp8_37 = ROcp8_36*C7-ROcp8_95*S7
    ROcp8_77 = ROcp8_16*S7+S5*C7
    ROcp8_87 = ROcp8_26*S7+ROcp8_85*C7
    ROcp8_97 = ROcp8_36*S7+ROcp8_95*C7
    ROcp8_19 = ROcp8_17*C9-ROcp8_77*S9
    ROcp8_29 = ROcp8_27*C9-ROcp8_87*S9
    ROcp8_39 = ROcp8_37*C9-ROcp8_97*S9
    ROcp8_79 = ROcp8_17*S9+ROcp8_77*C9
    ROcp8_89 = ROcp8_27*S9+ROcp8_87*C9
    ROcp8_99 = ROcp8_37*S9+ROcp8_97*C9
    ROcp8_110 = ROcp8_19*C10-ROcp8_79*S10
    ROcp8_210 = ROcp8_29*C10-ROcp8_89*S10
    ROcp8_310 = ROcp8_39*C10-ROcp8_99*S10
    ROcp8_710 = ROcp8_19*S10+ROcp8_79*C10
    ROcp8_810 = ROcp8_29*S10+ROcp8_89*C10
    ROcp8_910 = ROcp8_39*S10+ROcp8_99*C10
    OMcp8_25 = qd[5]*C4
    OMcp8_35 = qd[5]*S4
    OPcp8_25 = -qd[4]*qd[5]*S4+qdd[5]*C4
    OPcp8_35 = qd[4]*qd[5]*C4+qdd[5]*S4
    OMcp8_16 = qd[4]+qd[6]*S5
    OMcp8_26 = OMcp8_25+qd[6]*ROcp8_85
    OMcp8_36 = OMcp8_35+qd[6]*ROcp8_95
    OPcp8_16 = qdd[4]+qd[6]*(OMcp8_25*ROcp8_95-OMcp8_35*ROcp8_85)+qdd[6]*S5
    OPcp8_26 = OPcp8_25+qd[6]*(-qd[4]*ROcp8_95+OMcp8_35*S5)+qdd[6]*ROcp8_85
    OPcp8_36 = OPcp8_35+qd[6]*(qd[4]*ROcp8_85-OMcp8_25*S5)+qdd[6]*ROcp8_95
    RLcp8_17 = s.dpt[3,1]*S5
    RLcp8_27 = ROcp8_85*s.dpt[3,1]
    RLcp8_37 = ROcp8_95*s.dpt[3,1]
    POcp8_17 = q[1]+RLcp8_17
    POcp8_27 = q[2]+RLcp8_27
    POcp8_37 = q[3]+RLcp8_37
    OMcp8_17 = OMcp8_16+qd[7]*ROcp8_46
    OMcp8_27 = OMcp8_26+qd[7]*ROcp8_56
    OMcp8_37 = OMcp8_36+qd[7]*ROcp8_66
    ORcp8_17 = OMcp8_26*RLcp8_37-OMcp8_36*RLcp8_27
    ORcp8_27 = -OMcp8_16*RLcp8_37+OMcp8_36*RLcp8_17
    ORcp8_37 = OMcp8_16*RLcp8_27-OMcp8_26*RLcp8_17
    VIcp8_17 = qd[1]+ORcp8_17
    VIcp8_27 = qd[2]+ORcp8_27
    VIcp8_37 = qd[3]+ORcp8_37
    OPcp8_17 = OPcp8_16+qd[7]*(OMcp8_26*ROcp8_66-OMcp8_36*ROcp8_56)+qdd[7]*ROcp8_46
    OPcp8_27 = OPcp8_26+qd[7]*(-OMcp8_16*ROcp8_66+OMcp8_36*ROcp8_46)+qdd[7]*ROcp8_56
    OPcp8_37 = OPcp8_36+qd[7]*(OMcp8_16*ROcp8_56-OMcp8_26*ROcp8_46)+qdd[7]*ROcp8_66
    ACcp8_17 = qdd[1]+OMcp8_26*ORcp8_37-OMcp8_36*ORcp8_27+OPcp8_26*RLcp8_37-OPcp8_36*RLcp8_27
    ACcp8_27 = qdd[2]-OMcp8_16*ORcp8_37+OMcp8_36*ORcp8_17-OPcp8_16*RLcp8_37+OPcp8_36*RLcp8_17
    ACcp8_37 = qdd[3]+OMcp8_16*ORcp8_27-OMcp8_26*ORcp8_17+OPcp8_16*RLcp8_27-OPcp8_26*RLcp8_17
    RLcp8_18 = ROcp8_77*Dz83
    RLcp8_28 = ROcp8_87*Dz83
    RLcp8_38 = ROcp8_97*Dz83
    POcp8_18 = POcp8_17+RLcp8_18
    POcp8_28 = POcp8_27+RLcp8_28
    POcp8_38 = POcp8_37+RLcp8_38
    ORcp8_18 = OMcp8_27*RLcp8_38-OMcp8_37*RLcp8_28
    ORcp8_28 = -OMcp8_17*RLcp8_38+OMcp8_37*RLcp8_18
    ORcp8_38 = OMcp8_17*RLcp8_28-OMcp8_27*RLcp8_18
    VIcp8_18 = ORcp8_18+VIcp8_17+qd[8]*ROcp8_77
    VIcp8_28 = ORcp8_28+VIcp8_27+qd[8]*ROcp8_87
    VIcp8_38 = ORcp8_38+VIcp8_37+qd[8]*ROcp8_97
    ACcp8_18 = ACcp8_17+(2.0)*qd[8]*(OMcp8_27*ROcp8_97-OMcp8_37*ROcp8_87)+qdd[8]*ROcp8_77+OMcp8_27*ORcp8_38-OMcp8_37*ORcp8_28+OPcp8_27*RLcp8_38-OPcp8_37*RLcp8_28
    ACcp8_28 = ACcp8_27+(2.0)*qd[8]*(-OMcp8_17*ROcp8_97+OMcp8_37*ROcp8_77)+qdd[8]*ROcp8_87-OMcp8_17*ORcp8_38+OMcp8_37*ORcp8_18-OPcp8_17*RLcp8_38+OPcp8_37*RLcp8_18
    ACcp8_38 = ACcp8_37+(2.0)*qd[8]*(OMcp8_17*ROcp8_87-OMcp8_27*ROcp8_77)+qdd[8]*ROcp8_97+OMcp8_17*ORcp8_28-OMcp8_27*ORcp8_18+OPcp8_17*RLcp8_28-OPcp8_27*RLcp8_18
    RLcp8_19 = ROcp8_77*s.dpt[3,6]
    RLcp8_29 = ROcp8_87*s.dpt[3,6]
    RLcp8_39 = ROcp8_97*s.dpt[3,6]
    POcp8_19 = POcp8_18+RLcp8_19
    POcp8_29 = POcp8_28+RLcp8_29
    POcp8_39 = POcp8_38+RLcp8_39
    OMcp8_19 = OMcp8_17+qd[9]*ROcp8_46
    OMcp8_29 = OMcp8_27+qd[9]*ROcp8_56
    OMcp8_39 = OMcp8_37+qd[9]*ROcp8_66
    ORcp8_19 = OMcp8_27*RLcp8_39-OMcp8_37*RLcp8_29
    ORcp8_29 = -OMcp8_17*RLcp8_39+OMcp8_37*RLcp8_19
    ORcp8_39 = OMcp8_17*RLcp8_29-OMcp8_27*RLcp8_19
    VIcp8_19 = ORcp8_19+VIcp8_18
    VIcp8_29 = ORcp8_29+VIcp8_28
    VIcp8_39 = ORcp8_39+VIcp8_38
    OPcp8_19 = OPcp8_17+qd[9]*(OMcp8_27*ROcp8_66-OMcp8_37*ROcp8_56)+qdd[9]*ROcp8_46
    OPcp8_29 = OPcp8_27+qd[9]*(-OMcp8_17*ROcp8_66+OMcp8_37*ROcp8_46)+qdd[9]*ROcp8_56
    OPcp8_39 = OPcp8_37+qd[9]*(OMcp8_17*ROcp8_56-OMcp8_27*ROcp8_46)+qdd[9]*ROcp8_66
    ACcp8_19 = ACcp8_18+OMcp8_27*ORcp8_39-OMcp8_37*ORcp8_29+OPcp8_27*RLcp8_39-OPcp8_37*RLcp8_29
    ACcp8_29 = ACcp8_28-OMcp8_17*ORcp8_39+OMcp8_37*ORcp8_19-OPcp8_17*RLcp8_39+OPcp8_37*RLcp8_19
    ACcp8_39 = ACcp8_38+OMcp8_17*ORcp8_29-OMcp8_27*ORcp8_19+OPcp8_17*RLcp8_29-OPcp8_27*RLcp8_19
    RLcp8_110 = ROcp8_79*s.dpt[3,7]
    RLcp8_210 = ROcp8_89*s.dpt[3,7]
    RLcp8_310 = ROcp8_99*s.dpt[3,7]
    POcp8_110 = POcp8_19+RLcp8_110
    POcp8_210 = POcp8_29+RLcp8_210
    POcp8_310 = POcp8_39+RLcp8_310
    OMcp8_110 = OMcp8_19+qd[10]*ROcp8_46
    OMcp8_210 = OMcp8_29+qd[10]*ROcp8_56
    OMcp8_310 = OMcp8_39+qd[10]*ROcp8_66
    ORcp8_110 = OMcp8_29*RLcp8_310-OMcp8_39*RLcp8_210
    ORcp8_210 = -OMcp8_19*RLcp8_310+OMcp8_39*RLcp8_110
    ORcp8_310 = OMcp8_19*RLcp8_210-OMcp8_29*RLcp8_110
    VIcp8_110 = ORcp8_110+VIcp8_19
    VIcp8_210 = ORcp8_210+VIcp8_29
    VIcp8_310 = ORcp8_310+VIcp8_39
    OPcp8_110 = OPcp8_19+qd[10]*(OMcp8_29*ROcp8_66-OMcp8_39*ROcp8_56)+qdd[10]*ROcp8_46
    OPcp8_210 = OPcp8_29+qd[10]*(-OMcp8_19*ROcp8_66+OMcp8_39*ROcp8_46)+qdd[10]*ROcp8_56
    OPcp8_310 = OPcp8_39+qd[10]*(OMcp8_19*ROcp8_56-OMcp8_29*ROcp8_46)+qdd[10]*ROcp8_66
    ACcp8_110 = ACcp8_19+OMcp8_29*ORcp8_310-OMcp8_39*ORcp8_210+OPcp8_29*RLcp8_310-OPcp8_39*RLcp8_210
    ACcp8_210 = ACcp8_29-OMcp8_19*ORcp8_310+OMcp8_39*ORcp8_110-OPcp8_19*RLcp8_310+OPcp8_39*RLcp8_110
    ACcp8_310 = ACcp8_39+OMcp8_19*ORcp8_210-OMcp8_29*ORcp8_110+OPcp8_19*RLcp8_210-OPcp8_29*RLcp8_110
    RLcp8_111 = ROcp8_110*s.dpt[1,9]
    RLcp8_211 = ROcp8_210*s.dpt[1,9]
    RLcp8_311 = ROcp8_310*s.dpt[1,9]
    POcp8_111 = POcp8_110+RLcp8_111
    POcp8_211 = POcp8_210+RLcp8_211
    POcp8_311 = POcp8_310+RLcp8_311
    ORcp8_111 = OMcp8_210*RLcp8_311-OMcp8_310*RLcp8_211
    ORcp8_211 = -OMcp8_110*RLcp8_311+OMcp8_310*RLcp8_111
    ORcp8_311 = OMcp8_110*RLcp8_211-OMcp8_210*RLcp8_111
    VIcp8_111 = ORcp8_111+VIcp8_110
    VIcp8_211 = ORcp8_211+VIcp8_210
    VIcp8_311 = ORcp8_311+VIcp8_310
    ACcp8_111 = ACcp8_110+OMcp8_210*ORcp8_311-OMcp8_310*ORcp8_211+OPcp8_210*RLcp8_311-OPcp8_310*RLcp8_211
    ACcp8_211 = ACcp8_210-OMcp8_110*ORcp8_311+OMcp8_310*ORcp8_111-OPcp8_110*RLcp8_311+OPcp8_310*RLcp8_111
    ACcp8_311 = ACcp8_310+OMcp8_110*ORcp8_211-OMcp8_210*ORcp8_111+OPcp8_110*RLcp8_211-OPcp8_210*RLcp8_111
    PxF2[1] = POcp8_111
    PxF2[2] = POcp8_211
    PxF2[3] = POcp8_311
    RxF2[1,1] = ROcp8_110
    RxF2[1,2] = ROcp8_210
    RxF2[1,3] = ROcp8_310
    RxF2[2,1] = ROcp8_46
    RxF2[2,2] = ROcp8_56
    RxF2[2,3] = ROcp8_66
    RxF2[3,1] = ROcp8_710
    RxF2[3,2] = ROcp8_810
    RxF2[3,3] = ROcp8_910
    VxF2[1] = VIcp8_111
    VxF2[2] = VIcp8_211
    VxF2[3] = VIcp8_311
    OMxF2[1] = OMcp8_110
    OMxF2[2] = OMcp8_210
    OMxF2[3] = OMcp8_310
    AxF2[1] = ACcp8_111
    AxF2[2] = ACcp8_211
    AxF2[3] = ACcp8_311
    OMPxF2[1] = OPcp8_110
    OMPxF2[2] = OPcp8_210
    OMPxF2[3] = OPcp8_310
    ROcp9_25 = S4*S5
    ROcp9_35 = -C4*S5
    ROcp9_85 = -S4*C5
    ROcp9_95 = C4*C5
    ROcp9_16 = C5*C6
    ROcp9_26 = ROcp9_25*C6+C4*S6
    ROcp9_36 = ROcp9_35*C6+S4*S6
    ROcp9_46 = -C5*S6
    ROcp9_56 = -ROcp9_25*S6+C4*C6
    ROcp9_66 = -ROcp9_35*S6+S4*C6
    ROcp9_111 = ROcp9_16*C11-S11*S5
    ROcp9_211 = ROcp9_26*C11-ROcp9_85*S11
    ROcp9_311 = ROcp9_36*C11-ROcp9_95*S11
    ROcp9_711 = ROcp9_16*S11+C11*S5
    ROcp9_811 = ROcp9_26*S11+ROcp9_85*C11
    ROcp9_911 = ROcp9_36*S11+ROcp9_95*C11
    ROcp9_113 = ROcp9_111*C13-ROcp9_711*S13
    ROcp9_213 = ROcp9_211*C13-ROcp9_811*S13
    ROcp9_313 = ROcp9_311*C13-ROcp9_911*S13
    ROcp9_713 = ROcp9_111*S13+ROcp9_711*C13
    ROcp9_813 = ROcp9_211*S13+ROcp9_811*C13
    ROcp9_913 = ROcp9_311*S13+ROcp9_911*C13
    ROcp9_114 = ROcp9_113*C14-ROcp9_713*S14
    ROcp9_214 = ROcp9_213*C14-ROcp9_813*S14
    ROcp9_314 = ROcp9_313*C14-ROcp9_913*S14
    ROcp9_714 = ROcp9_113*S14+ROcp9_713*C14
    ROcp9_814 = ROcp9_213*S14+ROcp9_813*C14
    ROcp9_914 = ROcp9_313*S14+ROcp9_913*C14
    OMcp9_25 = qd[5]*C4
    OMcp9_35 = qd[5]*S4
    OPcp9_25 = -qd[4]*qd[5]*S4+qdd[5]*C4
    OPcp9_35 = qd[4]*qd[5]*C4+qdd[5]*S4
    OMcp9_16 = qd[4]+qd[6]*S5
    OMcp9_26 = OMcp9_25+qd[6]*ROcp9_85
    OMcp9_36 = OMcp9_35+qd[6]*ROcp9_95
    OPcp9_16 = qdd[4]+qd[6]*(OMcp9_25*ROcp9_95-OMcp9_35*ROcp9_85)+qdd[6]*S5
    OPcp9_26 = OPcp9_25+qd[6]*(-qd[4]*ROcp9_95+OMcp9_35*S5)+qdd[6]*ROcp9_85
    OPcp9_36 = OPcp9_35+qd[6]*(qd[4]*ROcp9_85-OMcp9_25*S5)+qdd[6]*ROcp9_95
    RLcp9_17 = s.dpt[3,2]*S5
    RLcp9_27 = ROcp9_85*s.dpt[3,2]
    RLcp9_37 = ROcp9_95*s.dpt[3,2]
    POcp9_17 = q[1]+RLcp9_17
    POcp9_27 = q[2]+RLcp9_27
    POcp9_37 = q[3]+RLcp9_37
    OMcp9_17 = OMcp9_16+qd[11]*ROcp9_46
    OMcp9_27 = OMcp9_26+qd[11]*ROcp9_56
    OMcp9_37 = OMcp9_36+qd[11]*ROcp9_66
    ORcp9_17 = OMcp9_26*RLcp9_37-OMcp9_36*RLcp9_27
    ORcp9_27 = -OMcp9_16*RLcp9_37+OMcp9_36*RLcp9_17
    ORcp9_37 = OMcp9_16*RLcp9_27-OMcp9_26*RLcp9_17
    VIcp9_17 = qd[1]+ORcp9_17
    VIcp9_27 = qd[2]+ORcp9_27
    VIcp9_37 = qd[3]+ORcp9_37
    OPcp9_17 = OPcp9_16+qd[11]*(OMcp9_26*ROcp9_66-OMcp9_36*ROcp9_56)+qdd[11]*ROcp9_46
    OPcp9_27 = OPcp9_26+qd[11]*(-OMcp9_16*ROcp9_66+OMcp9_36*ROcp9_46)+qdd[11]*ROcp9_56
    OPcp9_37 = OPcp9_36+qd[11]*(OMcp9_16*ROcp9_56-OMcp9_26*ROcp9_46)+qdd[11]*ROcp9_66
    ACcp9_17 = qdd[1]+OMcp9_26*ORcp9_37-OMcp9_36*ORcp9_27+OPcp9_26*RLcp9_37-OPcp9_36*RLcp9_27
    ACcp9_27 = qdd[2]-OMcp9_16*ORcp9_37+OMcp9_36*ORcp9_17-OPcp9_16*RLcp9_37+OPcp9_36*RLcp9_17
    ACcp9_37 = qdd[3]+OMcp9_16*ORcp9_27-OMcp9_26*ORcp9_17+OPcp9_16*RLcp9_27-OPcp9_26*RLcp9_17
    RLcp9_18 = ROcp9_711*Dz123
    RLcp9_28 = ROcp9_811*Dz123
    RLcp9_38 = ROcp9_911*Dz123
    POcp9_18 = POcp9_17+RLcp9_18
    POcp9_28 = POcp9_27+RLcp9_28
    POcp9_38 = POcp9_37+RLcp9_38
    ORcp9_18 = OMcp9_27*RLcp9_38-OMcp9_37*RLcp9_28
    ORcp9_28 = -OMcp9_17*RLcp9_38+OMcp9_37*RLcp9_18
    ORcp9_38 = OMcp9_17*RLcp9_28-OMcp9_27*RLcp9_18
    VIcp9_18 = ORcp9_18+VIcp9_17+qd[12]*ROcp9_711
    VIcp9_28 = ORcp9_28+VIcp9_27+qd[12]*ROcp9_811
    VIcp9_38 = ORcp9_38+VIcp9_37+qd[12]*ROcp9_911
    ACcp9_18 = ACcp9_17+(2.0)*qd[12]*(OMcp9_27*ROcp9_911-OMcp9_37*ROcp9_811)+qdd[12]*ROcp9_711+OMcp9_27*ORcp9_38-OMcp9_37*ORcp9_28+OPcp9_27*RLcp9_38-OPcp9_37*RLcp9_28
    ACcp9_28 = ACcp9_27+(2.0)*qd[12]*(-OMcp9_17*ROcp9_911+OMcp9_37*ROcp9_711)+qdd[12]*ROcp9_811-OMcp9_17*ORcp9_38+OMcp9_37*ORcp9_18-OPcp9_17*RLcp9_38+OPcp9_37*RLcp9_18
    ACcp9_38 = ACcp9_37+(2.0)*qd[12]*(OMcp9_17*ROcp9_811-OMcp9_27*ROcp9_711)+qdd[12]*ROcp9_911+OMcp9_17*ORcp9_28-OMcp9_27*ORcp9_18+OPcp9_17*RLcp9_28-OPcp9_27*RLcp9_18
    RLcp9_19 = ROcp9_711*s.dpt[3,11]
    RLcp9_29 = ROcp9_811*s.dpt[3,11]
    RLcp9_39 = ROcp9_911*s.dpt[3,11]
    POcp9_19 = POcp9_18+RLcp9_19
    POcp9_29 = POcp9_28+RLcp9_29
    POcp9_39 = POcp9_38+RLcp9_39
    OMcp9_19 = OMcp9_17+qd[13]*ROcp9_46
    OMcp9_29 = OMcp9_27+qd[13]*ROcp9_56
    OMcp9_39 = OMcp9_37+qd[13]*ROcp9_66
    ORcp9_19 = OMcp9_27*RLcp9_39-OMcp9_37*RLcp9_29
    ORcp9_29 = -OMcp9_17*RLcp9_39+OMcp9_37*RLcp9_19
    ORcp9_39 = OMcp9_17*RLcp9_29-OMcp9_27*RLcp9_19
    VIcp9_19 = ORcp9_19+VIcp9_18
    VIcp9_29 = ORcp9_29+VIcp9_28
    VIcp9_39 = ORcp9_39+VIcp9_38
    OPcp9_19 = OPcp9_17+qd[13]*(OMcp9_27*ROcp9_66-OMcp9_37*ROcp9_56)+qdd[13]*ROcp9_46
    OPcp9_29 = OPcp9_27+qd[13]*(-OMcp9_17*ROcp9_66+OMcp9_37*ROcp9_46)+qdd[13]*ROcp9_56
    OPcp9_39 = OPcp9_37+qd[13]*(OMcp9_17*ROcp9_56-OMcp9_27*ROcp9_46)+qdd[13]*ROcp9_66
    ACcp9_19 = ACcp9_18+OMcp9_27*ORcp9_39-OMcp9_37*ORcp9_29+OPcp9_27*RLcp9_39-OPcp9_37*RLcp9_29
    ACcp9_29 = ACcp9_28-OMcp9_17*ORcp9_39+OMcp9_37*ORcp9_19-OPcp9_17*RLcp9_39+OPcp9_37*RLcp9_19
    ACcp9_39 = ACcp9_38+OMcp9_17*ORcp9_29-OMcp9_27*ORcp9_19+OPcp9_17*RLcp9_29-OPcp9_27*RLcp9_19
    RLcp9_110 = ROcp9_713*s.dpt[3,12]
    RLcp9_210 = ROcp9_813*s.dpt[3,12]
    RLcp9_310 = ROcp9_913*s.dpt[3,12]
    POcp9_110 = POcp9_19+RLcp9_110
    POcp9_210 = POcp9_29+RLcp9_210
    POcp9_310 = POcp9_39+RLcp9_310
    OMcp9_110 = OMcp9_19+qd[14]*ROcp9_46
    OMcp9_210 = OMcp9_29+qd[14]*ROcp9_56
    OMcp9_310 = OMcp9_39+qd[14]*ROcp9_66
    ORcp9_110 = OMcp9_29*RLcp9_310-OMcp9_39*RLcp9_210
    ORcp9_210 = -OMcp9_19*RLcp9_310+OMcp9_39*RLcp9_110
    ORcp9_310 = OMcp9_19*RLcp9_210-OMcp9_29*RLcp9_110
    VIcp9_110 = ORcp9_110+VIcp9_19
    VIcp9_210 = ORcp9_210+VIcp9_29
    VIcp9_310 = ORcp9_310+VIcp9_39
    OPcp9_110 = OPcp9_19+qd[14]*(OMcp9_29*ROcp9_66-OMcp9_39*ROcp9_56)+qdd[14]*ROcp9_46
    OPcp9_210 = OPcp9_29+qd[14]*(-OMcp9_19*ROcp9_66+OMcp9_39*ROcp9_46)+qdd[14]*ROcp9_56
    OPcp9_310 = OPcp9_39+qd[14]*(OMcp9_19*ROcp9_56-OMcp9_29*ROcp9_46)+qdd[14]*ROcp9_66
    ACcp9_110 = ACcp9_19+OMcp9_29*ORcp9_310-OMcp9_39*ORcp9_210+OPcp9_29*RLcp9_310-OPcp9_39*RLcp9_210
    ACcp9_210 = ACcp9_29-OMcp9_19*ORcp9_310+OMcp9_39*ORcp9_110-OPcp9_19*RLcp9_310+OPcp9_39*RLcp9_110
    ACcp9_310 = ACcp9_39+OMcp9_19*ORcp9_210-OMcp9_29*ORcp9_110+OPcp9_19*RLcp9_210-OPcp9_29*RLcp9_110
    RLcp9_111 = ROcp9_114*s.dpt[1,13]
    RLcp9_211 = ROcp9_214*s.dpt[1,13]
    RLcp9_311 = ROcp9_314*s.dpt[1,13]
    POcp9_111 = POcp9_110+RLcp9_111
    POcp9_211 = POcp9_210+RLcp9_211
    POcp9_311 = POcp9_310+RLcp9_311
    ORcp9_111 = OMcp9_210*RLcp9_311-OMcp9_310*RLcp9_211
    ORcp9_211 = -OMcp9_110*RLcp9_311+OMcp9_310*RLcp9_111
    ORcp9_311 = OMcp9_110*RLcp9_211-OMcp9_210*RLcp9_111
    VIcp9_111 = ORcp9_111+VIcp9_110
    VIcp9_211 = ORcp9_211+VIcp9_210
    VIcp9_311 = ORcp9_311+VIcp9_310
    ACcp9_111 = ACcp9_110+OMcp9_210*ORcp9_311-OMcp9_310*ORcp9_211+OPcp9_210*RLcp9_311-OPcp9_310*RLcp9_211
    ACcp9_211 = ACcp9_210-OMcp9_110*ORcp9_311+OMcp9_310*ORcp9_111-OPcp9_110*RLcp9_311+OPcp9_310*RLcp9_111
    ACcp9_311 = ACcp9_310+OMcp9_110*ORcp9_211-OMcp9_210*ORcp9_111+OPcp9_110*RLcp9_211-OPcp9_210*RLcp9_111
    PxF3[1] = POcp9_111
    PxF3[2] = POcp9_211
    PxF3[3] = POcp9_311
    RxF3[1,1] = ROcp9_114
    RxF3[1,2] = ROcp9_214
    RxF3[1,3] = ROcp9_314
    RxF3[2,1] = ROcp9_46
    RxF3[2,2] = ROcp9_56
    RxF3[2,3] = ROcp9_66
    RxF3[3,1] = ROcp9_714
    RxF3[3,2] = ROcp9_814
    RxF3[3,3] = ROcp9_914
    VxF3[1] = VIcp9_111
    VxF3[2] = VIcp9_211
    VxF3[3] = VIcp9_311
    OMxF3[1] = OMcp9_110
    OMxF3[2] = OMcp9_210
    OMxF3[3] = OMcp9_310
    AxF3[1] = ACcp9_111
    AxF3[2] = ACcp9_211
    AxF3[3] = ACcp9_311
    OMPxF3[1] = OPcp9_110
    OMPxF3[2] = OPcp9_210
    OMPxF3[3] = OPcp9_310
    ROcp10_25 = S4*S5
    ROcp10_35 = -C4*S5
    ROcp10_85 = -S4*C5
    ROcp10_95 = C4*C5
    ROcp10_16 = C5*C6
    ROcp10_26 = ROcp10_25*C6+C4*S6
    ROcp10_36 = ROcp10_35*C6+S4*S6
    ROcp10_46 = -C5*S6
    ROcp10_56 = -ROcp10_25*S6+C4*C6
    ROcp10_66 = -ROcp10_35*S6+S4*C6
    ROcp10_111 = ROcp10_16*C11-S11*S5
    ROcp10_211 = ROcp10_26*C11-ROcp10_85*S11
    ROcp10_311 = ROcp10_36*C11-ROcp10_95*S11
    ROcp10_711 = ROcp10_16*S11+C11*S5
    ROcp10_811 = ROcp10_26*S11+ROcp10_85*C11
    ROcp10_911 = ROcp10_36*S11+ROcp10_95*C11
    ROcp10_113 = ROcp10_111*C13-ROcp10_711*S13
    ROcp10_213 = ROcp10_211*C13-ROcp10_811*S13
    ROcp10_313 = ROcp10_311*C13-ROcp10_911*S13
    ROcp10_713 = ROcp10_111*S13+ROcp10_711*C13
    ROcp10_813 = ROcp10_211*S13+ROcp10_811*C13
    ROcp10_913 = ROcp10_311*S13+ROcp10_911*C13
    ROcp10_114 = ROcp10_113*C14-ROcp10_713*S14
    ROcp10_214 = ROcp10_213*C14-ROcp10_813*S14
    ROcp10_314 = ROcp10_313*C14-ROcp10_913*S14
    ROcp10_714 = ROcp10_113*S14+ROcp10_713*C14
    ROcp10_814 = ROcp10_213*S14+ROcp10_813*C14
    ROcp10_914 = ROcp10_313*S14+ROcp10_913*C14
    OMcp10_25 = qd[5]*C4
    OMcp10_35 = qd[5]*S4
    OPcp10_25 = -qd[4]*qd[5]*S4+qdd[5]*C4
    OPcp10_35 = qd[4]*qd[5]*C4+qdd[5]*S4
    OMcp10_16 = qd[4]+qd[6]*S5
    OMcp10_26 = OMcp10_25+qd[6]*ROcp10_85
    OMcp10_36 = OMcp10_35+qd[6]*ROcp10_95
    OPcp10_16 = qdd[4]+qd[6]*(OMcp10_25*ROcp10_95-OMcp10_35*ROcp10_85)+qdd[6]*S5
    OPcp10_26 = OPcp10_25+qd[6]*(-qd[4]*ROcp10_95+OMcp10_35*S5)+qdd[6]*ROcp10_85
    OPcp10_36 = OPcp10_35+qd[6]*(qd[4]*ROcp10_85-OMcp10_25*S5)+qdd[6]*ROcp10_95
    RLcp10_17 = s.dpt[3,2]*S5
    RLcp10_27 = ROcp10_85*s.dpt[3,2]
    RLcp10_37 = ROcp10_95*s.dpt[3,2]
    POcp10_17 = q[1]+RLcp10_17
    POcp10_27 = q[2]+RLcp10_27
    POcp10_37 = q[3]+RLcp10_37
    OMcp10_17 = OMcp10_16+qd[11]*ROcp10_46
    OMcp10_27 = OMcp10_26+qd[11]*ROcp10_56
    OMcp10_37 = OMcp10_36+qd[11]*ROcp10_66
    ORcp10_17 = OMcp10_26*RLcp10_37-OMcp10_36*RLcp10_27
    ORcp10_27 = -OMcp10_16*RLcp10_37+OMcp10_36*RLcp10_17
    ORcp10_37 = OMcp10_16*RLcp10_27-OMcp10_26*RLcp10_17
    VIcp10_17 = qd[1]+ORcp10_17
    VIcp10_27 = qd[2]+ORcp10_27
    VIcp10_37 = qd[3]+ORcp10_37
    OPcp10_17 = OPcp10_16+qd[11]*(OMcp10_26*ROcp10_66-OMcp10_36*ROcp10_56)+qdd[11]*ROcp10_46
    OPcp10_27 = OPcp10_26+qd[11]*(-OMcp10_16*ROcp10_66+OMcp10_36*ROcp10_46)+qdd[11]*ROcp10_56
    OPcp10_37 = OPcp10_36+qd[11]*(OMcp10_16*ROcp10_56-OMcp10_26*ROcp10_46)+qdd[11]*ROcp10_66
    ACcp10_17 = qdd[1]+OMcp10_26*ORcp10_37-OMcp10_36*ORcp10_27+OPcp10_26*RLcp10_37-OPcp10_36*RLcp10_27
    ACcp10_27 = qdd[2]-OMcp10_16*ORcp10_37+OMcp10_36*ORcp10_17-OPcp10_16*RLcp10_37+OPcp10_36*RLcp10_17
    ACcp10_37 = qdd[3]+OMcp10_16*ORcp10_27-OMcp10_26*ORcp10_17+OPcp10_16*RLcp10_27-OPcp10_26*RLcp10_17
    RLcp10_18 = ROcp10_711*Dz123
    RLcp10_28 = ROcp10_811*Dz123
    RLcp10_38 = ROcp10_911*Dz123
    POcp10_18 = POcp10_17+RLcp10_18
    POcp10_28 = POcp10_27+RLcp10_28
    POcp10_38 = POcp10_37+RLcp10_38
    ORcp10_18 = OMcp10_27*RLcp10_38-OMcp10_37*RLcp10_28
    ORcp10_28 = -OMcp10_17*RLcp10_38+OMcp10_37*RLcp10_18
    ORcp10_38 = OMcp10_17*RLcp10_28-OMcp10_27*RLcp10_18
    VIcp10_18 = ORcp10_18+VIcp10_17+qd[12]*ROcp10_711
    VIcp10_28 = ORcp10_28+VIcp10_27+qd[12]*ROcp10_811
    VIcp10_38 = ORcp10_38+VIcp10_37+qd[12]*ROcp10_911
    ACcp10_18 = ACcp10_17+(2.0)*qd[12]*(OMcp10_27*ROcp10_911-OMcp10_37*ROcp10_811)+qdd[12]*ROcp10_711+OMcp10_27*ORcp10_38-OMcp10_37*ORcp10_28+OPcp10_27*RLcp10_38-OPcp10_37*RLcp10_28
    ACcp10_28 = ACcp10_27+(2.0)*qd[12]*(-OMcp10_17*ROcp10_911+OMcp10_37*ROcp10_711)+qdd[12]*ROcp10_811-OMcp10_17*ORcp10_38+OMcp10_37*ORcp10_18-OPcp10_17*RLcp10_38+OPcp10_37*RLcp10_18
    ACcp10_38 = ACcp10_37+(2.0)*qd[12]*(OMcp10_17*ROcp10_811-OMcp10_27*ROcp10_711)+qdd[12]*ROcp10_911+OMcp10_17*ORcp10_28-OMcp10_27*ORcp10_18+OPcp10_17*RLcp10_28-OPcp10_27*RLcp10_18
    RLcp10_19 = ROcp10_711*s.dpt[3,11]
    RLcp10_29 = ROcp10_811*s.dpt[3,11]
    RLcp10_39 = ROcp10_911*s.dpt[3,11]
    POcp10_19 = POcp10_18+RLcp10_19
    POcp10_29 = POcp10_28+RLcp10_29
    POcp10_39 = POcp10_38+RLcp10_39
    OMcp10_19 = OMcp10_17+qd[13]*ROcp10_46
    OMcp10_29 = OMcp10_27+qd[13]*ROcp10_56
    OMcp10_39 = OMcp10_37+qd[13]*ROcp10_66
    ORcp10_19 = OMcp10_27*RLcp10_39-OMcp10_37*RLcp10_29
    ORcp10_29 = -OMcp10_17*RLcp10_39+OMcp10_37*RLcp10_19
    ORcp10_39 = OMcp10_17*RLcp10_29-OMcp10_27*RLcp10_19
    VIcp10_19 = ORcp10_19+VIcp10_18
    VIcp10_29 = ORcp10_29+VIcp10_28
    VIcp10_39 = ORcp10_39+VIcp10_38
    OPcp10_19 = OPcp10_17+qd[13]*(OMcp10_27*ROcp10_66-OMcp10_37*ROcp10_56)+qdd[13]*ROcp10_46
    OPcp10_29 = OPcp10_27+qd[13]*(-OMcp10_17*ROcp10_66+OMcp10_37*ROcp10_46)+qdd[13]*ROcp10_56
    OPcp10_39 = OPcp10_37+qd[13]*(OMcp10_17*ROcp10_56-OMcp10_27*ROcp10_46)+qdd[13]*ROcp10_66
    ACcp10_19 = ACcp10_18+OMcp10_27*ORcp10_39-OMcp10_37*ORcp10_29+OPcp10_27*RLcp10_39-OPcp10_37*RLcp10_29
    ACcp10_29 = ACcp10_28-OMcp10_17*ORcp10_39+OMcp10_37*ORcp10_19-OPcp10_17*RLcp10_39+OPcp10_37*RLcp10_19
    ACcp10_39 = ACcp10_38+OMcp10_17*ORcp10_29-OMcp10_27*ORcp10_19+OPcp10_17*RLcp10_29-OPcp10_27*RLcp10_19
    RLcp10_110 = ROcp10_713*s.dpt[3,12]
    RLcp10_210 = ROcp10_813*s.dpt[3,12]
    RLcp10_310 = ROcp10_913*s.dpt[3,12]
    POcp10_110 = POcp10_19+RLcp10_110
    POcp10_210 = POcp10_29+RLcp10_210
    POcp10_310 = POcp10_39+RLcp10_310
    OMcp10_110 = OMcp10_19+qd[14]*ROcp10_46
    OMcp10_210 = OMcp10_29+qd[14]*ROcp10_56
    OMcp10_310 = OMcp10_39+qd[14]*ROcp10_66
    ORcp10_110 = OMcp10_29*RLcp10_310-OMcp10_39*RLcp10_210
    ORcp10_210 = -OMcp10_19*RLcp10_310+OMcp10_39*RLcp10_110
    ORcp10_310 = OMcp10_19*RLcp10_210-OMcp10_29*RLcp10_110
    VIcp10_110 = ORcp10_110+VIcp10_19
    VIcp10_210 = ORcp10_210+VIcp10_29
    VIcp10_310 = ORcp10_310+VIcp10_39
    OPcp10_110 = OPcp10_19+qd[14]*(OMcp10_29*ROcp10_66-OMcp10_39*ROcp10_56)+qdd[14]*ROcp10_46
    OPcp10_210 = OPcp10_29+qd[14]*(-OMcp10_19*ROcp10_66+OMcp10_39*ROcp10_46)+qdd[14]*ROcp10_56
    OPcp10_310 = OPcp10_39+qd[14]*(OMcp10_19*ROcp10_56-OMcp10_29*ROcp10_46)+qdd[14]*ROcp10_66
    ACcp10_110 = ACcp10_19+OMcp10_29*ORcp10_310-OMcp10_39*ORcp10_210+OPcp10_29*RLcp10_310-OPcp10_39*RLcp10_210
    ACcp10_210 = ACcp10_29-OMcp10_19*ORcp10_310+OMcp10_39*ORcp10_110-OPcp10_19*RLcp10_310+OPcp10_39*RLcp10_110
    ACcp10_310 = ACcp10_39+OMcp10_19*ORcp10_210-OMcp10_29*ORcp10_110+OPcp10_19*RLcp10_210-OPcp10_29*RLcp10_110
    RLcp10_111 = ROcp10_114*s.dpt[1,14]
    RLcp10_211 = ROcp10_214*s.dpt[1,14]
    RLcp10_311 = ROcp10_314*s.dpt[1,14]
    POcp10_111 = POcp10_110+RLcp10_111
    POcp10_211 = POcp10_210+RLcp10_211
    POcp10_311 = POcp10_310+RLcp10_311
    ORcp10_111 = OMcp10_210*RLcp10_311-OMcp10_310*RLcp10_211
    ORcp10_211 = -OMcp10_110*RLcp10_311+OMcp10_310*RLcp10_111
    ORcp10_311 = OMcp10_110*RLcp10_211-OMcp10_210*RLcp10_111
    VIcp10_111 = ORcp10_111+VIcp10_110
    VIcp10_211 = ORcp10_211+VIcp10_210
    VIcp10_311 = ORcp10_311+VIcp10_310
    ACcp10_111 = ACcp10_110+OMcp10_210*ORcp10_311-OMcp10_310*ORcp10_211+OPcp10_210*RLcp10_311-OPcp10_310*RLcp10_211
    ACcp10_211 = ACcp10_210-OMcp10_110*ORcp10_311+OMcp10_310*ORcp10_111-OPcp10_110*RLcp10_311+OPcp10_310*RLcp10_111
    ACcp10_311 = ACcp10_310+OMcp10_110*ORcp10_211-OMcp10_210*ORcp10_111+OPcp10_110*RLcp10_211-OPcp10_210*RLcp10_111
    PxF4[1] = POcp10_111
    PxF4[2] = POcp10_211
    PxF4[3] = POcp10_311
    RxF4[1,1] = ROcp10_114
    RxF4[1,2] = ROcp10_214
    RxF4[1,3] = ROcp10_314
    RxF4[2,1] = ROcp10_46
    RxF4[2,2] = ROcp10_56
    RxF4[2,3] = ROcp10_66
    RxF4[3,1] = ROcp10_714
    RxF4[3,2] = ROcp10_814
    RxF4[3,3] = ROcp10_914
    VxF4[1] = VIcp10_111
    VxF4[2] = VIcp10_211
    VxF4[3] = VIcp10_311
    OMxF4[1] = OMcp10_110
    OMxF4[2] = OMcp10_210
    OMxF4[3] = OMcp10_310
    AxF4[1] = ACcp10_111
    AxF4[2] = ACcp10_211
    AxF4[3] = ACcp10_311
    OMPxF4[1] = OPcp10_110
    OMPxF4[2] = OPcp10_210
    OMPxF4[3] = OPcp10_310
 
# Sensor Forces 

    SWr1 = s.user_ExtForces(PxF1,RxF1,VxF1,OMxF1,AxF1,OMPxF1,s,tsim,1)
    SWr2 = s.user_ExtForces(PxF2,RxF2,VxF2,OMxF2,AxF2,OMPxF2,s,tsim,2)
    SWr3 = s.user_ExtForces(PxF3,RxF3,VxF3,OMxF3,AxF3,OMPxF3,s,tsim,3)
    SWr4 = s.user_ExtForces(PxF4,RxF4,VxF4,OMxF4,AxF4,OMPxF4,s,tsim,4)
    xfrc17 = RxF1[1,1]*SWr1[1]+RxF1[1,2]*SWr1[2]+RxF1[1,3]*SWr1[3]
    xfrc27 = RxF1[2,1]*SWr1[1]+RxF1[2,2]*SWr1[2]+RxF1[2,3]*SWr1[3]
    xfrc37 = RxF1[3,1]*SWr1[1]+RxF1[3,2]*SWr1[2]+RxF1[3,3]*SWr1[3]
    xtrq17 = RxF1[1,1]*SWr1[4]+RxF1[1,2]*SWr1[5]+RxF1[1,3]*SWr1[6]
    xtrq27 = RxF1[2,1]*SWr1[4]+RxF1[2,2]*SWr1[5]+RxF1[2,3]*SWr1[6]
    xtrq37 = RxF1[3,1]*SWr1[4]+RxF1[3,2]*SWr1[5]+RxF1[3,3]*SWr1[6]
    trqext_1_10_6 = xtrq17-xfrc27*SWr1[9]+xfrc37*SWr1[8]
    trqext_2_10_6 = xtrq27+xfrc17*SWr1[9]-xfrc37*(SWr1[7]-s.l[1,10])
    trqext_3_10_6 = xtrq37-xfrc17*SWr1[8]+xfrc27*(SWr1[7]-s.l[1,10])
    xfrc18 = RxF2[1,1]*SWr2[1]+RxF2[1,2]*SWr2[2]+RxF2[1,3]*SWr2[3]
    xfrc28 = RxF2[2,1]*SWr2[1]+RxF2[2,2]*SWr2[2]+RxF2[2,3]*SWr2[3]
    xfrc38 = RxF2[3,1]*SWr2[1]+RxF2[3,2]*SWr2[2]+RxF2[3,3]*SWr2[3]
    frcext_1_10_7 = xfrc17+xfrc18
    frcext_2_10_7 = xfrc27+xfrc28
    frcext_3_10_7 = xfrc37+xfrc38
    xtrq18 = RxF2[1,1]*SWr2[4]+RxF2[1,2]*SWr2[5]+RxF2[1,3]*SWr2[6]
    xtrq28 = RxF2[2,1]*SWr2[4]+RxF2[2,2]*SWr2[5]+RxF2[2,3]*SWr2[6]
    xtrq38 = RxF2[3,1]*SWr2[4]+RxF2[3,2]*SWr2[5]+RxF2[3,3]*SWr2[6]
    trqext_1_10_7 = trqext_1_10_6+xtrq18-xfrc28*SWr2[9]+xfrc38*SWr2[8]
    trqext_2_10_7 = trqext_2_10_6+xtrq28+xfrc18*SWr2[9]-xfrc38*(SWr2[7]-s.l[1,10])
    trqext_3_10_7 = trqext_3_10_6+xtrq38-xfrc18*SWr2[8]+xfrc28*(SWr2[7]-s.l[1,10])
    xfrc19 = RxF3[1,1]*SWr3[1]+RxF3[1,2]*SWr3[2]+RxF3[1,3]*SWr3[3]
    xfrc29 = RxF3[2,1]*SWr3[1]+RxF3[2,2]*SWr3[2]+RxF3[2,3]*SWr3[3]
    xfrc39 = RxF3[3,1]*SWr3[1]+RxF3[3,2]*SWr3[2]+RxF3[3,3]*SWr3[3]
    xtrq19 = RxF3[1,1]*SWr3[4]+RxF3[1,2]*SWr3[5]+RxF3[1,3]*SWr3[6]
    xtrq29 = RxF3[2,1]*SWr3[4]+RxF3[2,2]*SWr3[5]+RxF3[2,3]*SWr3[6]
    xtrq39 = RxF3[3,1]*SWr3[4]+RxF3[3,2]*SWr3[5]+RxF3[3,3]*SWr3[6]
    trqext_1_14_8 = xtrq19-xfrc29*SWr3[9]+xfrc39*SWr3[8]
    trqext_2_14_8 = xtrq29+xfrc19*SWr3[9]-xfrc39*(SWr3[7]-s.l[1,14])
    trqext_3_14_8 = xtrq39-xfrc19*SWr3[8]+xfrc29*(SWr3[7]-s.l[1,14])
    xfrc110 = RxF4[1,1]*SWr4[1]+RxF4[1,2]*SWr4[2]+RxF4[1,3]*SWr4[3]
    xfrc210 = RxF4[2,1]*SWr4[1]+RxF4[2,2]*SWr4[2]+RxF4[2,3]*SWr4[3]
    xfrc310 = RxF4[3,1]*SWr4[1]+RxF4[3,2]*SWr4[2]+RxF4[3,3]*SWr4[3]
    frcext_1_14_9 = xfrc110+xfrc19
    frcext_2_14_9 = xfrc210+xfrc29
    frcext_3_14_9 = xfrc310+xfrc39
    xtrq110 = RxF4[1,1]*SWr4[4]+RxF4[1,2]*SWr4[5]+RxF4[1,3]*SWr4[6]
    xtrq210 = RxF4[2,1]*SWr4[4]+RxF4[2,2]*SWr4[5]+RxF4[2,3]*SWr4[6]
    xtrq310 = RxF4[3,1]*SWr4[4]+RxF4[3,2]*SWr4[5]+RxF4[3,3]*SWr4[6]
    trqext_1_14_9 = trqext_1_14_8+xtrq110-xfrc210*SWr4[9]+xfrc310*SWr4[8]
    trqext_2_14_9 = trqext_2_14_8+xtrq210+xfrc110*SWr4[9]-xfrc310*(SWr4[7]-s.l[1,14])
    trqext_3_14_9 = trqext_3_14_8+xtrq310-xfrc110*SWr4[8]+xfrc210*(SWr4[7]-s.l[1,14])
 
# Symbolic model output

    frc[1,10] = s.frc[1,10]+frcext_1_10_7
    frc[2,10] = s.frc[2,10]+frcext_2_10_7
    frc[3,10] = s.frc[3,10]+frcext_3_10_7
    trq[1,10] = s.trq[1,10]+trqext_1_10_7
    trq[2,10] = s.trq[2,10]+trqext_2_10_7
    trq[3,10] = s.trq[3,10]+trqext_3_10_7
    frc[1,14] = s.frc[1,14]+frcext_1_14_9
    frc[2,14] = s.frc[2,14]+frcext_2_14_9
    frc[3,14] = s.frc[3,14]+frcext_3_14_9
    trq[1,14] = s.trq[1,14]+trqext_1_14_9
    trq[2,14] = s.trq[2,14]+trqext_2_14_9
    trq[3,14] = s.trq[3,14]+trqext_3_14_9

# Number of continuation lines = 0


